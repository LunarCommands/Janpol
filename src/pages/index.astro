---
import Base from "@layouts/Base.astro";
---

<Base title="Janpol">
  <div class="relative">
    <div
      class="absolute inset-0 bg-cover bg-center bg-fixed"
      style="background-image: url('/welder-janpol.webp');"
      id="myElement"
    >
    </div>
    <div class="absolute inset-0 bg-gray-900 opacity-50"></div>
    <section
      id="section1"
      class="max-w-6xl mx-auto px-6 sm:px-20 flex items-center justify-center h-screen animate-scale-in"
    >
      <div class="w-full lg:w-2/3 flex flex-col items-start">
        <h1
          class="sm:text-5xl text-2xl font-bold mb-6 animate-fade-in text-white"
        >
          Janpol Metalprodukcja
        </h1>
        <p class="text-lg leading-relaxed text-white animate-fade-in">
          Naszą specjalizacją jest produkcja wyrobów metalowych dla przemysłu
          meblowego, takich jak mechanizmy wyjazdu, podnośniki meblowe, stelaże,
          ramy i nogi. Oferujemy wyroby malowane proszkowo, chromowane i
          cynkowane. Dzięki rozbudowanemu parkowi maszyn, możemy zaoferować
          produkcję elementów stalowych dla różnych branż. Wykonujemy części,
          podzespoły oraz konstrukcje dla przemysłu rolniczego, motoryzacyjnego
          czy budowlanego. Zapraszamy do siedziby naszej firmy, która znajduje
          się w Dębnie.
        </p>
      </div>
      <div class="hidden md:block w-1/3 h-full relative">
        <div
          class="absolute top-0 left-0 w-full h-full bg-gray-700 opacity-0 clip-path-metal"
        >
        </div>
      </div>
    </section>
    <section
      class="max-w-6xl mx-auto px-6 sm:px-20 flex items-center justify-center h-screen animate-scale-in text-right"
      id="section2"
      style="margin-right: 40px;"
    >
      <!-- Add custom style to increase right margin -->
      <div class="w-full lg:w-2/3 flex flex-col">
        <!-- Remove self-start and md:self-end classes to align content to the right -->
        <h1
          class="sm:text-5xl text-2xl font-bold mb-6 animate-fade-in text-white"
        >
          <!-- Remove self-start and md:self-end classes to align content to the right -->
          Realizacje
        </h1>
        <p class="text-lg leading-relaxed text-white animate-fade-in">
          <!-- Remove self-start and md:self-end classes to align content to the right -->
          Naszą specjalizacją jest produkcja wyrobów metalowych dla przemysłu meblowego,
          takich jak mechanizmy wyjazdu, podnośniki meblowe, stelaże, ramy i nogi.
          Oferujemy wyroby malowane proszkowo, chromowane i cynkowane. Dzięki rozbudowanemu
          parkowi maszyn, możemy zaoferować produkcję elementów stalowych dla różnych
          branż. Wykonujemy części, podzespoły oraz konstrukcje dla przemysłu rolniczego,
          motoryzacyjnego czy budowlanego. Zapraszamy do siedziby naszej firmy, która
          znajduje się w Dębnie.
        </p>
      </div>
      <div class="hidden md:block w-1/3 h-full relative">
        <div
          class="absolute top-0 left-0 w-full h-full bg-gray-700 opacity-0 clip-path-metal"
        >
        </div>
      </div>
    </section>

    <section
      class="max-w-6xl mx-auto px-6 sm:px-20 flex items-center justify-center h-screen animate-scale-in"
      id="section3"
    >
      <div class="w-full lg:w-2/3 flex flex-col items-start">
        <h1
          class="sm:text-5xl text-2xl font-bold mb-6 animate-fade-in text-white"
        >
          Kontakt
        </h1>
        <p class="text-lg leading-relaxed text-white animate-fade-in">
          Naszą specjalizacją jest produkcja wyrobów metalowych dla przemysłu
          meblowego, takich jak mechanizmy wyjazdu, podnośniki meblowe, stelaże,
          ramy i nogi. Oferujemy wyroby malowane proszkowo, chromowane i
          cynkowane. Dzięki rozbudowanemu parkowi maszyn, możemy zaoferować
          produkcję elementów stalowych dla różnych branż. Wykonujemy części,
          podzespoły oraz konstrukcje dla przemysłu rolniczego, motoryzacyjnego
          czy budowlanego. Zapraszamy do siedziby naszej firmy, która znajduje
          się w Dębnie.
        </p>
      </div>
      <div class="hidden md:block w-1/3 h-full relative">
        <div
          class="absolute top-0 left-0 w-full h-full bg-gray-700 opacity-0 clip-path-metal"
        >
        </div>
      </div>
    </section>
  </div>
</Base>

<style>
  #myElement {
    transition: background-image 0.5s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-fade-in {
    animation-name: fadeIn;
    animation-duration: 1s;
    z-index: 1;
  }

  .absolute.inset-0.bg-gray-900.opacity-50 {
    z-index: 0;
  }
</style>

<script>
  const element = document.getElementById("myElement");
  const scrollTopThreshold1 = 500;
  const scrollTopThreshold2 = 600;
  const scrollTopThreshold3 = 2000;
  const imageSrc = "/welder-janpol.webp";
  const imageSrcNew1 = "/wp2034930.webp";
  const imageSrcNew2 = "/welder-barcelona.jpg";

  let previousScrollTop = 0;

  window.addEventListener("scroll", function () {
    const scrollTop =
      window.pageYOffset ||
      document.documentElement.scrollTop ||
      document.body.scrollTop ||
      0;

    if (scrollTop > scrollTopThreshold3) {
      element.style.backgroundImage = `url('${imageSrcNew2}')`;
    } else if (scrollTop > scrollTopThreshold2) {
      element.style.backgroundImage = `url('${imageSrcNew1}')`;
    } else if (scrollTop > scrollTopThreshold1) {
      element.style.backgroundImage = `url('${imageSrc}')`;
    } else {
      element.style.backgroundImage = `url('${imageSrc}')`;
    }

    previousScrollTop = scrollTop;
  });
</script>
